
1) Избавится от хардкода, заодно проверив правильность констант.

2) +369:else if (capacity == 100)
          capacity_level = POWER_SUPPLY_CAPACITY_LEVEL_FULL;
   В реально жизни 100% можно и не получить.
   Нужно подумать, с чем лучше сравнивать.

3) Объединить с аналогичным драйвером в B4.5 --  b45bat-keys
